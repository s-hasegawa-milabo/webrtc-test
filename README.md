# WebRTC Communication Tool

リアルタイムチャット、ファイル共有、ビデオ通話機能を備えたコミュニケーションツール

## 機能

- 📱 **リアルタイムチャット**: Socket.ioを使用したリアルタイムメッセージング
- 📁 **ファイル共有**: ファイルのアップロード・ダウンロード機能
- 📹 **ビデオ通話**: WebRTCを使用したピアツーピア通話
- 🔊 **音声通話**: マイクのオン/オフ切り替え
- 🖥️ **画面共有**: デスクトップ画面の共有
- 🏠 **ルーム機能**: 複数人でのグループ通話

## 技術スタック

### バックエンド
- Node.js
- Express.js
- Socket.io
- Multer (ファイルアップロード)

### フロントエンド
- Vue.js 3
- Vite
- Pinia (状態管理)
- WebRTC API

## セットアップ

1. **依存関係のインストール**
```bash
npm install
```

2. **サーバーの起動**
```bash
npm start
```

3. **クライアントの起動**
```bash
cd client
npm run dev
```

4. **アクセス**
- フロントエンド: http://localhost:3000
- バックエンド: http://localhost:3001

## 使用方法

1. **ルーム作成・参加**
   - ホーム画面でルームIDを入力して参加
   - 「新規作成」ボタンで新しいルームを作成

2. **チャット**
   - 右側のチャットエリアでメッセージを送信
   - ファイルをアップロードして共有

3. **ビデオ通話**
   - 他のユーザーが参加すると自動的にビデオ通話が開始
   - 🔊 マイクのオン/オフ
   - 📷 カメラのオン/オフ  
   - 🖥️ 画面共有

## フォルダ構成

```
.
├── server/
│   └── index.js          # Express + Socket.io サーバー
├── client/
│   ├── src/
│   │   ├── components/   # Vue コンポーネント
│   │   ├── views/        # ページコンポーネント
│   │   ├── stores/       # Pinia ストア
│   │   └── router/       # Vue Router設定
│   └── package.json
├── uploads/              # アップロードファイル保存先
└── package.json
```

## 開発メモ

### WebRTC接続フロー
1. ユーザーがルームに参加
2. 既存ユーザーに `user-joined` イベント送信
3. 新規ユーザーに対してWebRTC Offerを作成
4. Answer/ICE候補の交換
5. ピアツーピア接続確立

### ファイル共有フロー
1. ファイル選択
2. `/upload` エンドポイントにPOST
3. サーバーがファイルを `uploads/` に保存
4. チャットにファイル情報を送信
5. `/download/:filename` でダウンロード

## 注意事項

- WebRTC機能はHTTPS環境で動作します（localhost除く）
- 画面共有機能はモダンブラウザでのみサポート
- ファイルアップロードサイズ制限なし（本番環境では制限推奨）